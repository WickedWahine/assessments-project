{% extends 'base.html' %}
{% block title %}Enter scores for {{assessment.name}} assessment{% endblock %}

{% block body %}

  <h2>Assessment: {{assessment.name}}</h2>

  <p>
    <strong>Term</strong>: {{term}}<br/>
    <strong>Academic year</strong>: {{academic_year.year}}<br/>
    <strong>Grade</strong>: {{grade}}<br/>
  </p>

  {% if students %}
  <form action="/assessment/{{assessment.assessment_id}}" method="POST" >
  <!-- <form action="/assessment/{{assessment.assessment_id}}" method="POST" class="needs-validation" novalidate > -->
    <table class="table table-hover">
      <thead>
        <tr class="row">
          <th class="col-sm-4">Student Name</th>
          <th class="col-sm-2">Student ID</th>
          <th class="col-sm-2">Score <a href="#" style="text-decoration: none; color: red;" data-toggle="tooltip" 
            title="Acceptable input are 'subA' and 'A'->'Z'. Capitalization is not required">&#9432;</a>
          </th>
          <th class="col-sm-4">Exemption (if applicable)</th>
        </tr>
      </thead>
      <tbody>
        {% for student in students %}
          <tr class="row">
            <td class="col-sm-4">
                <input type="text" readonly class="form-control-plaintext" type="text" value="{{student.first_name}}" 
                name="first_name" aria-label="Student first name" style="display: inline-block; width: auto;" >
                <input type="text" readonly class="form-control-plaintext" type="text" value="{{student.last_name}}" 
                name="last_name" aria-label="Student last name" style="display: inline-block; width: auto;" >
            </td>
            <td class="col-sm-2">
              <input type="text" readonly class="form-control-plaintext" value="{{student.student_id}}" 
              name="student_id" aria-label="student id">
            </td>
            <td class="col-sm-2">
                <input type="text" name="score" class="form-control" aria-describedby="assessmentScore" 
                pattern="[SS][Uu][Bb][Aa]|[Aa]|[Bb]|[Cc]|[Dd]|[Ee]|[Ff]|[Gg]|[Hh]|[Ii]|[Jj]|
                [Kk]|[Ll]|[Mm]|[Nn]|[Oo]|[Pp]|[Qq]|[Rr]|[Ss]|[Tt]|[Uu]|[Vv]|[Ww]|[Xx]|[Yy]|[Zz]" >
                <!-- <div class="invalid-feedback">
                  Acceptable input are 'subA' and 'A'->'Z'. Capitalization is not required.
                </div> -->
            </td>
            <td class="col-sm-4">
              <select class="form-select" name="exemption_id" aria-label="Dropdown to select exemption">
                <option value="">Select exemption</option>
                <option value="2">Absent for entire testing window</option>
                <option value="3">Alternate assessment per IEP</option>
              </select>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>

    <button class="btn btn-block" type="submit" style="background-color: #F4CB06;">Save</button>
    <input type="hidden" name="username" value="{{user.username}}">
    <input type="hidden" name="grade" value="{{grade}}">
    <input type="hidden" name="term" value="{{term}}">

  </form>
  {% else %}
    <p>You do not have any students the selected grade and school this term.</p>
  {% endif %}

{% endblock %}
